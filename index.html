<!doctype html>

<html lang="en">
  <head>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-172123262-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-172123262-1');
    </script>

    <title>Andreas' Site</title>
    <meta charset="utf-8">
    <meta name="description" content="Andreas' Site">
    <meta name="author" content="Andreas">
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js"></script>
    <link rel="stylesheet" href="css/home.css?v=1.0">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
  </head>
  <body>
    
    <h2>Andreas Hindman</h2>
    <div class="contacts">
      <a href="https://www.dropbox.com/s/h8qnd98eu0o6j8h/andreashresume.pdf?dl=0">resume</a>
      <a class="contactSep">â€¢</a>
      <a href="https://www.linkedin.com/in/andreashindman/">linkedin.com/in/andreashindman</a><br class="contactBr">
      <a class="contactSep">â€¢</a>
      <a href="https://github.com/andreashindman">github.com/andreashindman</a>
      <a class="contactSep">â€¢</a>
      <a href="mailto:andreas.hindman@gmail.com?">andreas.hindman@gmail.com</a><br class="contactBr">
    </div>
    
    <div class="projectContainer">

      <div>
        <a class="project" href="http://chartsanywhere.com/">ðŸš§ chartsanywhere.com</a>
        <a class="languages">JavaScript, D3</a>
        <a href="https://github.com/andreashindman/chartsanywhere"><img class="githubImageLink" src="./imgs/GitHub-Mark-64px.png" alt="text"></a>
        <p class="projectDesc">
          Under development! A website for generating D3 charts and visualizations and embedding them anywhere. Accepts a google sheets URL and displays a visualization as well as the JavaScript required to embed a live visualization into your own website. Lots of features and options to be added in the future.
        </p>
      </div>

      <div>
        <a class="project" href="https://www.figma.com/proto/2BtfwFplP1ri1pDxcVaKnG/BoboZero?node-id=1%3A2&scaling=scale-down-width">ðŸš§ bobozero.com</a>
        <a class="languages">Figma</a>
        <p class="projectDesc">
            Under development! A souvenir and snack exchange for travelers. A wireframe built using Figma which details the user interaction with a website for connecting travelers who want to exchange gifts. 
        </p>
      </div>

      <div>
        <a class="project" href="./projects/wisconsin-model/wisconsin-cancer-model.html">ML Notebook: Breast Cancer Classification</a>
        <a class="languages">Python, R</a>
        <a href="https://github.com/andreashindman/wisconsin-model"><img class="githubImageLink" src="./imgs/GitHub-Mark-64px.png" alt="text"></a>
        <p class="projectDesc">
          A notebook describing my process for training different ML models to classify tumors as benign or malignant. Compares the effectiveness of kNN, LR, and SVC as
          well as feature engineering and basic hyperparameter tuning using grid search for predicting binary outcomes. 
        </p>
      </div>

      <div>
        <a class="project" href="./projects/cawildfire-model/index.html">ML Notebook: California Wildfires</a>
        <a class="languages">Python</a>
        <a href="https://github.com/sjhangiani12/info370-final-project"><img class="githubImageLink" src="./imgs/GitHub-Mark-64px.png" alt="text"></a>
        <p class="projectDesc">
          Research paper and a series of Jupyter notebooks describing our process for using a random forest machine
          learning model to predict sizes of California wildfires.
        </p>
      </div>
      
      <div>
        <a class="project" href="./projects/dengue-model/index.html">ML Notebook: Predicting Dengue Fever</a>
        <a class="languages">Python</a>
        <a href="https://github.com/andreashindman/dengue-model"><img class="githubImageLink" src="./imgs/GitHub-Mark-64px.png" alt="text"></a>
        <p class="projectDesc">
          Notebook explaining a data science competition entry for predicting occurrences of dengue fever. The notebook
          provides details on data wrangling, feature engineering, modeling, validation and visualization.
        </p>
      </div>

      <div>
        <a class="project" href="https://ischool.uw.edu/capstone/projects/2019/persistent-disease-self-management-program-online-application-help-people">Automated Health Survey System: Medicus</a>
        <a class="languages">JavaScript, Vue, Python</a>
        <a href="https://github.com/karanchoksi96/medicus"><img class="githubImageLink" src="./imgs/GitHub-Mark-64px.png" alt="text"></a>
        <p class="projectDesc">
          Automated health survey system for 30+ chronic conditions, built for and used by the City of Seattle.  
        </p>
      </div>
      
      <div>
        <a class="project" href="https://github.com/andreashindman/cube-learner">Q-Learning: Rubik's Cube</a>
        <a class="languages">Python</a>
        <a href="https://github.com/andreashindman/cube-learner"><img class="githubImageLink" src="./imgs/GitHub-Mark-64px.png" alt="text"></a>
        <p class="projectDesc">
          A Rubik's Cube puzzle and an AI agent that can solve it using reinforcement learning (Q-learning),
          both built using Python.
        </p>
      </div>
      
      <div>
        <a class="project" href="./projects/waggle-dance/bienentanz.html">Visual Explanation: Waggle Dance</a>
        <a class="languages">JavaScript, D3</a>
        <a href="https://github.com/andreashindman/waggle-dance"><img class="githubImageLink" src="./imgs/GitHub-Mark-64px.png" alt="text"></a>
        <p class="projectDesc">
          Interactive visual explanation of the honey bee's waggle dance. Follow this step-by-step guide to learn how
          the honey bee encodes and communicates information about a nearby food source to the rest of her hive.
        </p>
      </div>

    </div>
    <script>
      // retrieve data from external google sheet 
      var publicSpreadsheetUrl = 'https://docs.google.com/spreadsheets/d/1i2VsyFFcLQb-wC1nzh8sIKp70_yrns7rvj-H9myBDtg/edit?usp=sharing';

      function init() {
          Tabletop.init( { key: publicSpreadsheetUrl,
                           callback: drawChart,
                           simpleSheet: true } )
      }      
      
      // set the dimensions and margins of the graph
      var margin = {top: 120, right: 20, bottom: 90, left: 50},
          width = 960 - margin.left - margin.right,
          height = 500 - margin.top - margin.bottom;

      if (window.innerWidth < 960) {
          width = window.innerWidth - 50 - margin.left - margin.right;
      }

      // set the ranges
      var x = d3.scaleBand()
          .range([0, width])
          .padding(0.1);
      var y = d3.scaleLinear()
          .range([height, 0]);
      
      // append the svg object to the body of the page
      // append a 'group' element to 'svg'
      // moves the 'group' element to the top left margin
      var svg = d3.select("body").append("svg")
          .attr("class", "chart")
          .attr("width", width + margin.left + margin.right)
          .attr("height", height + margin.top + margin.bottom)
          .append("g")
          .attr("transform","translate(" + margin.left + "," + margin.top + ")");
      
      function drawChart(data, tabletop) {
          
          // data.forEach((x)=>type(x)); // coerce to number
          names = getColumns(data); // get name columns

          // for each of the names columns, compute the cumulative total 
          computeCum(data, names);

          // last 30 days only
          if (data.length > 30) {
              data = data.slice(data.length - 30 , data.length);	      
          }

          // scale the range of data in the domains
          x.domain(data.map(function(d) { return d.date; }));
          
          var c = []; names.forEach((n) => c.push(Number(d3.max(data, function(d) { return d[n] }))));
          y.domain([0, d3.max(c)]);

          // color scale function
          var colorScale = d3.scaleOrdinal().domain(names).range(d3.schemeTableau10);

          // color legend
          var colorLegend = d3.legendColor()
              .shape("circle")
              .shapePadding(5)
              .scale(colorScale);
          
          svg.append("g")
              .attr("transform", function(d) { return "translate(30, 20)" })
              .attr("class", "legend")
              .call(colorLegend);

          for (var i in names) {
              svg.append("path")
                  .datum(data)
                  .attr("fill", "none")
                  .attr("stroke", colorScale(names[i]))
                  .attr("stroke-width", 3)
                  .attr("d", d3.line() // .curve(d3.curveBasis)
                        .x(function(d) { return x(d.date) + x.bandwidth() / 2 })
                        .y(function(d) { return y(d[names[i]]) }));

              svg.selectAll("circleMarkers")
                  .data(data)
                  .enter()
                  .append("circle")
                  .attr("fill", colorScale(names[i]))
                  .attr("stroke", "none")
                  .attr("cx", function(d) { return x(d.date) + x.bandwidth() / 2 })
                  .attr("cy", function(d) { return y(d[names[i]]) } )
                  .attr("r", 5)
                  .attr("value", function(d) { return d[names[i]] } )
                  .attr("name", names[i])
                  .on("mouseover", handleMouseOver)
                  .on("mouseout", handleMouseOut);
          }
          
          // add the x axis
          svg.append("g")
              .attr("transform", "translate(0," + height + ")")
              .call(d3.axisBottom(x))
              .selectAll("text")
              .style("text-anchor", "end")
              .attr("dx", "-.8em")
              .attr("dy", ".15em")
              .attr("transform", function(d) {
                  return "rotate(-65)" 
              });

          // add text label for x axis
          /* svg.append("text")
           .attr("transform", "translate(" + (width/2) + " , " + (height + margin.top + 10) +  ")")
           .style("text-anchor", "middle")
           .text("Date"); */

          // add the y axis
          svg.append("g").call(d3.axisLeft(y));

          // add text label for y axis
          svg.append("text")
              .attr("transform", "rotate(-90)")
              .attr("y", 0 - margin.left)
              .attr("x", 0 - (height / 2))
              .attr("dy", "1em")
              .style("text-anchor", "middle")
              .style("font-size", "12px")
              .text("Total Consumption (mg)");
          
          // add title
          svg.append("text")
              .attr("x", (width / 2))
              .attr("y", 0 - (margin.top / 2))
              .attr("text-anchor", "middle")
              .style("font-size", "calc(10% + .5vw + .5vh)")
              .text("Cumulative Caffeine Consumption Since " + data[0].date);
      }
      
      
      // returns columns that should be visualized
      function getColumns(d) {
          var c = []
          for (var i in d[0]) {
              if (!["date"].includes(i)) {
                  c.push(i);
              }
          }
          return c; 
      }

      // compute the cumulative value for columns `n` in data `d`
      function computeCum(d, n) {
          for (var j in n) {
              for (let i = 1; i < d.length; i++) {
                  d[i][n[j]] = Number(d[i][n[j]]) + Number(d[i-1][n[j]]);
              }
          }
      };

      function handleMouseOver(d, i) {
          d3.select(this)
              .attr("r", 7);

          var cx = d3.select(this).attr("cx");
          var cy = d3.select(this).attr("cy");
          var val = d3.select(this).attr("value");
          var name = d3.select(this).attr("name");
          
          svg.append("text")
              .attr("id", "tooltip")
              .attr("x", cx - 70)
              .attr("y", cy - 15)
              .attr("fill", "grey")
              .style("font-size", "14px")
              .text(name + ": " + val + " mg");	
      }

      function handleMouseOut(d, i) {
          d3.select(this)
              .attr("r", 5);

          var cx = d3.select(this).attr("cx");
          var cy = d3.select(this).attr("cy");

          d3.select("#tooltip").remove();
      }
      

      init();
      

    </script>
    <div id="contribute-button">
      <a href ="https://docs.google.com/spreadsheets/d/1i2VsyFFcLQb-wC1nzh8sIKp70_yrns7rvj-H9myBDtg/edit#gid=0">Contribute your own data</a>
    </div>
  </body>
</html>
